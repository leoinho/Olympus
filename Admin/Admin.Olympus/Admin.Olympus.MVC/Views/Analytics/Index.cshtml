@{
    ViewBag.Title = "Index";

    /* RESOURCE */

    //Arquivo de Resource
    string arquivoResource = (string)Session["ArquivoResource"];

    //Idioma
    string idioma = (string)Session["CultureIdioma"];
    System.Globalization.CultureInfo ci = new System.Globalization.CultureInfo(idioma);

    //Tipo de Perfil (idIdioma)
    var usuario = (Admin.Olympus.Dominio.Entidade.Administrador)Session["Administrador"];
    int idIdioma = usuario.idTipo;    
}

<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.0/themes/base/jquery-ui.css" />
@*<script src="http://code.jquery.com/jquery-1.8.2.js"></script>*@
<script src="http://code.jquery.com/ui/1.9.0/jquery-ui.js"></script>

<script type="text/javascript">
    $(function () {
        $("#txtDataDe").datepicker({
            dateFormat: 'dd/mm/yy',
            dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado', 'Domingo'],
            dayNamesMin: ['dom', 'seg', 'ter', 'qua', 'qui', 'sex', 'sab', 'dom'],
            dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],
            monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
            monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
            nextText: 'Próximo',
            prevText: 'Anterior',
            closeText: "Fechar",
            currentText: "Hoje"
        });

        $("#txtDataAte").datepicker({
            dateFormat: 'dd/mm/yy',
            dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado', 'Domingo'],
            dayNamesMin: ['dom', 'seg', 'ter', 'qua', 'qui', 'sex', 'sab', 'dom'],
            dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],
            monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
            monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
            nextText: 'Próximo',
            prevText: 'Anterior',
            closeText: "Fechar",
            currentText: "Hoje"
        });
    });
</script>

<!--TITULO-->
<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header">
            @if (idIdioma == 1)
            {
                @Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsTituloOBL", @ci))
            }
            else if (idIdioma == 2)
            {
                @Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsTituloOLA", @ci))
            }
            else
            {
                @Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsTituloOMS", @ci))
            }
            <p style="line-height: 0.7;">
                <span style="font-size: 18px">@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsSubTitulo", @ci)</span>
            </p>
        </h1>
    </div>
</div>

<div class="row">
    <div class="col-lg-3 col-md-6">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-xs-3">
                        <i class="fa fa-5x"></i>
                    </div>
                    <div class="col-xs-9 text-right">
                        <div class="huge">
                            @ViewBag.quantidadeSesso
                        </div>
                        <div>@Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsSessoes", @ci))</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6">
        <div class="panel panel-green">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-xs-3">
                        <i class="fa fa-5x"></i>
                    </div>
                    <div class="col-xs-9 text-right">
                        <div class="huge">@ViewBag.quantidadeVizualizacao</div>
                        <div>@Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsVisualizacoesPaginas", @ci))</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6">
        <div class="panel panel-yellow">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-xs-3">
                        <i class="fa fa-5x"></i>
                    </div>
                    <div class="col-xs-9 text-right">
                        <div class="huge">
                            @ViewBag.paginaSessao
                        </div>
                        <div style="margin-left: -33px;">@Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsPaginasSessao", @ci))</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6">
        <div class="panel panel-red">
            <div class="panel-heading">
                <div class="row">
                    <div class="col-xs-3">
                        <i class="fa fa-5x"></i>
                    </div>
                    <div class="col-xs-9 text-right">
                        <div class="huge">
                            @ViewBag.duracaoSessao
                        </div>
                        <div>@Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsDuracaoSessao", @ci))</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> @Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsPerformance", @ci))
                <div class="pull-right">
                    <div class="btn-group">
                        @Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsPeriodo", @ci)): <input type="text" id="txtDataDe" placeholder="dd/MM/aaaa" class="txtData" value="@ViewBag.filtroDataDe" width="100px" style=" color: #555; height: 24px; display: inline;" /> - <input type="text" id="txtDataAte" placeholder="dd/MM/aaaa" class="txtData" value="@ViewBag.filtroDataAte" width="100px" style=" color: #555; height: 24px; display: inline;" />
                        <input type="button" id="btnFiltrar" class=" btn-primary" value="@Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "BotaoFiltrar", @ci))" />
                    </div>
                </div>
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                @Html.Raw(ViewBag.performance)
            </div>
            <!-- /.panel-body -->
        </div>
    </div>
</div>

<!-- /.row -->
<div class="row">
    
    <div class="col-lg-4">
        <div class="panel panel-primary">
            <div class="panel-heading">
                @Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsCidadesMaisAtivas", @ci))
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>@Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsPosicao", @ci))</th>
                                <th>@Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsCidade", @ci))</th>
                                <th>@Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsSessao", @ci))</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (ViewBag.cidadesAtivasTabela != null)
                            {
                                foreach (var cidade in ViewBag.cidadesAtivasTabela)
                                {
                                    <tr>
                                        <td>@cidade.Posicao</td>
                                        <td>@cidade.Cidade</td>
                                        <td>@cidade.Sessao</td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
                <!-- /.table-responsive -->
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>

    <div class="col-lg-4">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> @Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsCidadesMaisAtivas", @ci))
                <div class="pull-right">
                    <div class="btn-group"></div>
                </div>
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="list-group">
                    @Html.Raw(ViewBag.cidadesAtivasGrafico)
                </div>
                <!-- /.list-group -->
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>

    <div class="col-lg-4">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> @Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsVisualizacoes", @ci))
                <div class="pull-right">
                    <div class="btn-group"></div>
                </div>
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="list-group">
                    @Html.Raw(ViewBag.graficoVisitante)
                </div>
                <!-- /.list-group -->
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>

</div>
<!-- /.row -->
<!-- /.row -->
<div class="row">
    <div class="col-lg-6">
        <div class="panel panel-primary">
            <div class="panel-heading">
                @Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsPaginasMaisVisualizadas", @ci))
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>@Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsPosicao", @ci))</th>
                                <th>@Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsPagina", @ci))</th>
                                <th>@Html.Raw(@HttpContext.GetGlobalResourceObject(@arquivoResource, "AnalyticsSessao", @ci))</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (ViewBag.cidadesAtivasTabela != null)
                            {
                                foreach (var cidade in ViewBag.paginasVisitadasTabela)
                                {
                                    <tr>
                                        <td>@cidade.Posicao</td>
                                        <td>@cidade.Pagina</td>
                                        <td>@cidade.Sessao</td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                </div>
                <!-- /.table-responsive -->
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
</div>

@*<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> Páginas mais visualizadas
            </div>
            <div class="panel-body">
                @Html.Raw(ViewBag.paginasVisitadasGrafico)
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
</div>*@

@*<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> Browser
            </div>
            <div class="panel-body">
                @Html.Raw(ViewBag.browser)
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
</div>*@
<!-- /.row -->
<!-- /.row -->
@*<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> Sistema Operacional
            </div>
            <div class="panel-body">
                @Html.Raw(ViewBag.sistemaOperacional)
            </div>
            <!-- /.panel-body -->
        </div>
    </div>
</div>*@

@*<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <i class="fa fa-bar-chart-o fa-fw"></i> Período de Acesso
            </div>
            <div class="panel-body">
                @Html.Raw(ViewBag.periodoGrafico)
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel .chat-panel -->
    </div>
</div>*@

@section scripts{
    <script src="/assets/js/analytics.js"></script>
}


